<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>NumericalAtlas</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<!--<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>-->
	<link rel="stylesheet" href="test.css">
</head>
<body marginwidth="0" marginheight="0">
	<div class="container">
		<div class="row">
			<div class="col-12">
				<h1>My Title</h1>
			</div>
		</div>
		<div class="row">
			<div class="col-8">
				<div class="d3"></div>
			</div>
			<div class="col-4">
				Second column, first row.
			</div>
		</div>
		<div class="row">
			<div class="col-6">
				First column, second row.
			</div>
			<div class="col-6">
				Second column, second row.
			</div>
		</div>
	</div>

<script>
	//var width = Math.max(960),
	//	height = Math.max(500);
	var element = d3.select(".d3").node();
	var width = element.getBoundingClientRect().width,
		height = Math.max(200, element.getBoundingClientRect().height);
	console.log(width)
	console.log(height)

	var i = 0;

	var svg = d3.select(".d3").append("svg")
		.attr("width", width)
		.attr("height", height);

	svg.append("rect")
		.attr("width", width)
		.attr("height", height)
		.on("ontouchstart" in document ? "touchmove" : "mousemove", particle);

	function particle() {
		var m = d3.mouse(this);

		svg.insert("circle", "rect")
			.attr("cx", m[0])
			.attr("cy", m[1])
			.attr("r", 1e-6)
			.style("stroke", d3.hsl((i = (i + 1) % 360), 1, .5))
			.style("stroke-opacity", 1)
			.transition()
			.duration(2000)
			.ease(Math.sqrt)
			.attr("r", 100)
			.style("stroke-opacity", 1e-6)
			.remove();

		d3.event.preventDefault();
	}

	</script>

</body>
</html>
